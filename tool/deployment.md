# 常见部署方式

## 蓝绿部署
1. Blue/Green Deployment, 蓝绿部署的目的是减少发布的中断时间、能够快速撤回发布。
2. 蓝绿部署中一共有两套系统：一套是正在提供服务的系统，标记为“绿色”；另一套是准备发布的系统，标记为“蓝色”。两套系统都是功能完善的，并且正在运行的系统，只是系统版本和对外服务不同。
3. 蓝色系统经过反复的测试、修改、验证之后成功上线，直接将用户切换到蓝色系统。之前的绿色系统依旧运行，只是不让用户访问到，如果出现问题，直接切换到绿色系统。

`思考`
1. 蓝绿部署需要两套环境，费用是需要考虑的，并且维护两套环境，人力成本也要考虑。
2. 如果蓝色系统和绿色系统共同使用同一个数据库，那么这就意味着在切换蓝色和绿色系统的时候不会涉及到数据的丢失，但是如果本次上线涉及到旧表的修改，则可能会造成蓝色系统部分功能不能正常工作。如果蓝色系统和绿色系统不共同使用同一个数据库，那么在切换蓝色和绿色系统的时候要核对系统的数据，避免在切换的间隙造成数据丢失。
3. 蓝色系统和绿色系统的切换最好选在夜深人静的时候切换。

